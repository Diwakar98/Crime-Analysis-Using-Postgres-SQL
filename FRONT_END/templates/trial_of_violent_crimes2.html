<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trial of Violent Crimes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src = "https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background: url("https://americanlegionpost240.org/wp-content/uploads/2019/02/pale-blue-background-for-header.png") no-repeat center center fixed; 
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" style="font-size: 22px ;padding: 15px;">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="data:image/png;base64,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" alt="Logo" style="width:40px;">
            </a>
            <div class="navbar-header">
                <a class="navbar-brand" href="/">ANALYSE.COM</a>
            </div>
            <ul class="nav navbar-nav">
                <li><a href="/">Home</a></li>
                <li class="dropdown active"><a class="dropdown-toggle" data-toggle="dropdown" href="#"> Crime Analysis <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li class="list-group-item"><a href="all">State Wise</a></li>
                    <li class="list-group-item"><a href="auto_theft">Automobile Thefts</a></li>
                    <li class="list-group-item"><a href="serious_fraud">Serious Frauds</a></li>
                    <li class="list-group-item"><a href="murder_victim_age_sex">Murder Crimes</a></li>
                    <li class="list-group-item"><a href="crime_against_women">CASES IN CRIME AGAINST WOMEN</a></li>
                    <li class="list-group-item"><a href="arrestsIn_crime_against_women">ARRESTS IN CRIME AGAINST WOMEN</a></li>
                    <li class="list-group-item"><a href="rape_cases">ANALYSIS OF RAPE CASES</a></li>
                    <li class="list-group-item active"><a href="trial_of_violent_crimes2">TRIAL OF VIOLENT CRIMES BY COURTS</a></li>
                    <li class="list-group-item"><a href="period_of_trials2">PERIOD OF TRIALS BY COURTS</a></li>
                </ul>
                </li>
                <li><a href="about">About</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="register"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                <li><a href="login"><span class="glyphicon glyphicon-plus"></span> Add Data</a></li>            </ul>
        </div>
    </nav>
    <br><br><br><br><br>
    <h1>Trial of Violent Crimes by Courts </h1>
    <br>
    <div class="container">
        <form action="/trial_of_violent_crimes2" method="post">
            <label for="states">Choose a state:</label>
            <select id="singleselect1" name="states" id="states">
                {% for s in state_list%}
                <option value="{{s[0]}}">{{s[0]}}</option>
                {% endfor %}
            </select>
            <select id ="mltislct1" name="compare_crimes" multiple required>
                {% for y in type_list%}
                <option value="{{y[0]}}">{{y[0]}}</option>
                {% endfor %}
            </select>
            <input type="submit" class="btn btn-primary btn" value="Submit">
        </form>
        <br>
        <form action="/trial_of_violent_crimes2" method="post">
            <label for="states">Choose states,year,type for comparison:</label>
            <select id ="mltislct2" name="compare_area" multiple required>
                {% for s in state_list%}
                <option value="{{s[0]}}">{{s[0]}}</option>
                {% endfor %}
            </select>
            <select id ="mltislct3" name="compare_year" multiple required>
                <!-- <option value="ALL">ALL</option> -->
                {% for y in year_list%}
                <option value="{{y[0]}}">{{y[0]}}</option>
                {% endfor %}
            </select>
            <select id ="singleselect2" name="compare_type" >
                {% for t in type_list%}
                <option value="{{t[0]}}">{{t[0]}}</option>
                {% endfor %}
            </select>
            <input type="submit" class="btn btn-primary btn" value="Submit">
        </form>
    </div>
    <br><br>
        {% if state %}
        <div style="margin-top: 25px; margin-bottom: 25px;">
        <canvas id="total_years" width="1000" height="500" class="container" style="background-color: white;"></canvas>
        <div style="margin-top: 25px; margin-bottom: 25px;">
            <canvas id="total_group" width="1000" height="500" class="container" style="background-color: white;"></canvas>
        </div>
            {% for x in chart_names %}
            <div style="margin-top: 25px; margin-bottom: 25px;">
            <canvas id="{{x}}" width="700" height="500" class="container" style="background-color: white;"></canvas>
            </div>
            {% endfor %}
            <script>
                var output1 = {{output1|safe}};
                var groups = {{query_group_list|safe}}
                var years = {{years|safe}};
                console.log(output1);
                var range = {{query_group_list_len|safe}}
                var chart_names = {{chart_names|safe}}
                var ctx = new Array();
                var chart_result2 = {{chart_result2|safe}}
                var chart_result3 = {{chart_result3|safe}}
                var ctx0 = document.getElementById('total_years').getContext('2d');
                var ctx1 = document.getElementById('total_group').getContext('2d');

                for(i=0;i<chart_names.length;i++){
                ctx.push(document.getElementById(chart_names[i]).getContext('2d'));
                }
                var charts = new Array();
                function getColor(){
                var letters = '0123456789ABCDEF'.split('');
                var color = '#';
                for (i = 0; i < 6; i++ ) {
                    color += letters[Math.floor(Math.random() * 16)];
                }
                return color;
                }
                var chart0 = new Chart(ctx0, {
                type: 'line',
                data: {
                    labels: chart_result2[0],
                    datasets: [
                    {
                    label: 'Trials by Confession',
                    data: chart_result2[1],
                    borderColor: getColor(),
                    },
                    {
                    label: 'Trials without Confession',
                    data: chart_result2[2],
                    borderColor: getColor(),
                    },
                    {
                    label: 'Total Trials',
                    data: chart_result2[3],
                    borderColor: getColor(),
                    }]
                 },
                 options: {
                responsive: false,
                 plugins: {
                  title: {
                    display: true,
                    text: 'Total trials in each Year',
                    font: {
                    size: 20
                    }
                  }
                },
                }
                });
                var chart1 = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: chart_result3[0],
                    datasets: [
                    {
                    label: 'Trials by Confession',
                    data: chart_result3[1],
                    borderColor: getColor(),
                    },
                    {
                    label: 'Trials without Confession',
                    data: chart_result3[2],
                    borderColor: getColor(),
                    },
                    {
                    label: 'Total Trials',
                    data: chart_result3[3],
                    borderColor: getColor(),
                    }]
                 },
                 options: {
                responsive: false,
                plugins: {
                  title: {
                    display: true,
                    text: 'Total trials in each Category ',
                    font: {
                    size: 20
                    }
                  }
                },
                }
                });



for(i=0;i<ctx.length;i++){
                charts.push(
                 new Chart(ctx[i], {
                    type: 'line',
                    data: {
                        labels: years,
                        datasets: [
                        {
                        label: 'Trials by Confession',
                        data: output1[i][1],
                        borderColor: '#d5212e',
                        },
                        {
                        label: 'Trials without confession',
                        data: output1[i][2],
                        borderColor: 'blue',
                        },
                        {
                        label: 'Total Trials',
                        data: output1[i][3],
                        borderColor: 'green',
                        }]
                     },
                     options: {
                    responsive: false,
                     plugins: {
                  title: {
                    display: true,
                    text: groups[i],
                    font: {
                    size: 20
                    }
                  }
                },
                  }
                  })
                 );
                 }
                </script>
                </div>
            <table class="table table-striped table-bordered table-hover table-condensed">
                <thead>
                    <tr>
                        <th colspan="5" style="text-align: center;" class="warning"><h1>{{ state }}: TOTAL in Year</h1></th>
                    </tr>
                    <tr>
                        <tr class="success">
                            <th>Year</th>
                            <th>Trial of Violent Crimes by Courts by Confession</th>
                            <th>Trial of Violent Crimes by Courts by Trials</th>
                            <th>Trial of Violent Crimes by Courts Total</th>
                        </tr>
                    </tr>
                </thead>
                <tbody>
                    {% for r in result2 %}
                        <tr>
                            <td>{{r[0]}}</td>
                            <td>{{r[1]}}</td>
                            <td>{{r[2]}}</td>
                            <td>{{r[3]}}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
       <br><br>
            <table class="table table-striped table-bordered table-hover table-condensed">
                <thead>
                    <tr>
                        <th colspan="5" style="text-align: center;" class="warning"><h1>{{ state }}: TOTAL Across Year</h1></th>
                    </tr>
                    <tr class="success">
                        <th>Group Name</th>
                        <th>Trial of Violent Crimes by Courts by Confession</th>
                        <th>Trial of Violent Crimes by Courts by Trials</th>
                        <th>Trial of Violent Crimes by Courts Total</th>
                    </tr>
                </thead>
                <tbody>
                    {% for r in result3 %}
                        <tr>
                            <td>{{r[0]}}</td>
                            <td>{{r[1]}}</td>
                            <td>{{r[2]}}</td>
                            <td>{{r[3]}}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <br><br>
            {% for i in range(0,query_group_list_len) %}
                <table class="table table-striped table-bordered table-hover table-condensed">
                    <thead>
                        <tr>
                            <th colspan="4" style="text-align: center;" class="warning"><h1>{{query_group_list[i]}}</h1></th>
                        </tr>
                        <tr class="success">
                            <th>Year</th>
                            <th>Trial of Violent Crimes by Courts by Confession</th>
                            <th>Trial of Violent Crimes by Courts by Trials</th>
                            <th>Trial of Violent Crimes by Courts Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for tuples in print_queries[i] %}
                        <tr>
                            {% for r in tuples %}
                                <th>{{r}}</th>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </tbody>   
                </table>
                <br>

            {% endfor %}           

        {% elif compare_area%}
        {% for x in chart_names2 %}
        <div style="margin-top: 25px; margin-bottom: 25px;">
            <canvas id="{{x}}" width="700" height="500" class="container" style="background-color: white;"></canvas>
            {% endfor %}
                <script>
                var groups  = {{query_state_list|safe}}
                var output2 = {{output2|safe}};
                console.log(output2);
                var range2 = {{query_state_list_len|safe}}
                var chart_names2 = {{chart_names2|safe}}
                var ctx2 = new Array();
                var years = {{years|safe}};
                for(i=0;i<chart_names2.length;i++){
                ctx2.push(document.getElementById(chart_names2[i]).getContext('2d'));
                }
                var charts2 = new Array();
                for(i=0;i<ctx2.length;i++){
                charts2.push(
                 new Chart(ctx2[i],{
                    type: 'line',
                    data: {
                        labels: years,
                        datasets: [
                        {
                        label: 'Trials by Confession',
                        data: output2[i][1],
                        borderColor: '#d5212e',
                        },
                        {
                        label: 'Trials without confession',
                        data: output2[i][2],
                        borderColor: 'blue',
                        },
                        {
                        label: 'Total Trials',
                        data: output2[i][3],
                        borderColor: 'green',
                        }]
                     },
                     options: {
                    responsive: false,
                    plugins: {
                      title: {
                        display: true,
                        text: groups[i],
                        font: {
                    size: 20
                    }
                      }
                    },
                  }
                })
                 );
                 }
                </script>
                </div>
            {% for i in range(0,query_state_list_len) %}
                    <table class="table table-striped table-bordered table-hover table-condensed">
                        <thead>
                            <tr>
                                <th colspan="4" style="text-align: center;" class="warning"><h1>{{query_state_list[i]}}</h1></th>
                            </tr>
                            <tr class="success">
                                <th>Year</th>
                                <th>Trial of Violent Crimes by Courts by Confession</th>
                                <th>Trial of Violent Crimes by Courts by Trials</th>
                                <th>Trial of Violent Crimes by Courts Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for tuples in print_queries2[i] %}
                            <tr>
                                {% for r in tuples %}
                                <th>{{r}}</th>
                            {% endfor %}
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                <br>
            {% endfor %}

        {% endif %}
        <script>
            $(document).ready(function() {
                $('#mltislct1').multiselect();
            });
            $(document).ready(function() {
                $('#mltislct2').multiselect();
            });
            $(document).ready(function() {
                $('#mltislct3').multiselect();
            });
            $(document).ready(function() {
                $('#singleselect2').multiselect();
            });
            $(document).ready(function() {
                $('#singleselect1').multiselect();
            });
        </script>
    </body>


</html>